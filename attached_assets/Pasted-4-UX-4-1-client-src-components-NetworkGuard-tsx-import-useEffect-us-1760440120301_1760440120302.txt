4) 프런트 UX: 네트워크/스켈레톤/에러/소프트월
4-1) client/src/components/NetworkGuard.tsx (신규)
import { useEffect, useState } from "react";

export default function NetworkGuard() {
  const [online, setOnline] = useState(true);
  useEffect(() => {
    const on = () => setOnline(true);
    const off = () => setOnline(false);
    setOnline(navigator.onLine);
    window.addEventListener("online", on);
    window.addEventListener("offline", off);
    return () => { window.removeEventListener("online", on); window.removeEventListener("offline", off); };
  }, []);
  if (online) return null;
  return (
    <div className="fixed top-0 left-0 right-0 z-50 bg-red-600 text-white text-sm text-center py-2">
      네트워크 연결이 불안정합니다. 다시 시도해 주세요.
    </div>
  );
}

4-2) client/src/components/SkeletonCard.tsx (신규)
export default function SkeletonCard() {
  return (
    <div className="animate-pulse bg-white rounded-2xl p-4 shadow">
      <div className="h-4 bg-gray-200 rounded w-1/3 mb-3" />
      <div className="grid grid-cols-2 gap-3">
        <div className="h-16 bg-gray-100 rounded" />
        <div className="h-16 bg-gray-100 rounded" />
      </div>
      <div className="h-8 bg-gray-100 rounded mt-4" />
    </div>
  );
}

4-3) client/src/components/ErrorBanner.tsx (신규)
export default function ErrorBanner({ onRetry }: { onRetry: () => void }) {
  return (
    <div className="bg-yellow-50 border border-yellow-200 text-yellow-900 rounded-xl p-3 text-sm flex items-center justify-between">
      <span>잠시 문제가 발생했어요. 네트워크 상태를 확인한 뒤 다시 시도해 주세요.</span>
      <button onClick={onRetry} className="ml-2 px-3 py-1 rounded bg-yellow-200">재시도</button>
    </div>
  );
}

4-4) client/src/lib/usage-tracking.ts (교체/보강: 소프트/하드월)
const SOFT_AT = Number(import.meta.env.VITE_FREE_SOFTWALL_AT || 5);
const HARD_AT = Number(import.meta.env.VITE_FREE_PAYWALL_AT || 15);
const KEY = "mubu_uses";

export function incUse() {
  const n = Number(localStorage.getItem(KEY) || "0") + 1;
  localStorage.setItem(KEY, String(n));
  return n;
}

export function getWallState() {
  const n = Number(localStorage.getItem(KEY) || "0");
  return { uses: n, soft: n >= SOFT_AT && n < HARD_AT, hard: n >= HARD_AT };
}

export function resetUses() {
  localStorage.removeItem(KEY);
}

4-5) client/src/components/SoftWall.tsx (신규)
export default function SoftWall({ onClose }: { onClose: ()=>void }) {
  return (
    <div className="fixed inset-0 bg-black/40 grid place-items-center z-50">
      <div className="bg-white w-[92%] max-w-md rounded-2xl p-5 shadow">
        <div className="text-lg font-bold">
          지금까지 절약액 <span className="text-orange-600">₩12,800</span>
        </div>
        <div className="text-sm text-gray-500 mt-1">
          로그인하면 기록 보관 / 광고 제거 체험(7일)
        </div>
        <div className="grid gap-2 mt-4">
          <button className="h-12 rounded-xl bg-black text-white">Apple로 계속</button>
          <button className="h-12 rounded-xl border">Google로 계속</button>
          <button className="h-12 rounded-xl bg-[#FEE500]">Kakao로 계속</button>
        </div>
        <button className="mt-3 w-full text-gray-400 text-sm" onClick={onClose}>나중에</button>
      </div>
    </div>
  );
}

4-6) 결과 페이지에서 사용 예 (client/src/pages/Dashboard.tsx 예시)
import { useEffect, useState } from "react";
import NetworkGuard from "@/components/NetworkGuard";
import SkeletonCard from "@/components/SkeletonCard";
import ErrorBanner from "@/components/ErrorBanner";
import SoftWall from "@/components/SoftWall";
import { incUse, getWallState } from "@/lib/usage-tracking";

export default function Dashboard() {
  const [loading, setLoading] = useState(true);
  const [err, setErr] = useState<string | null>(null);
  const [showSoft, setShowSoft] = useState(false);

  useEffect(() => {
    (async () => {
      try {
        // 실제 비교 API 호출 로직 위치
        await new Promise((r) => setTimeout(r, 500)); // demo
        const cnt = incUse();
        const { soft, hard } = getWallState();
        if (hard) setErr("이 기능은 가입 후 이용하실 수 있어요.");
        else if (soft) setShowSoft(true);
      } catch {
        setErr("네트워크 오류가 발생했어요.");
      } finally {
        setLoading(false);
      }
    })();
  }, []);

  return (
    <div className="max-w-md mx-auto p-4">
      <NetworkGuard />
      {loading && <SkeletonCard />}
      {err && <ErrorBanner onRetry={() => location.reload()} />}
      {/* TODO: 정상 결과 카드 렌더 */}
      {showSoft && <SoftWall onClose={() => setShowSoft(false)} />}
    </div>
  );
}

5) .env 환경변수 (Replit Secrets)
NAVER_CLIENT_ID=xxxx
NAVER_CLIENT_SECRET=xxxx
VITE_FREE_SOFTWALL_AT=5
VITE_FREE_PAYWALL_AT=15
