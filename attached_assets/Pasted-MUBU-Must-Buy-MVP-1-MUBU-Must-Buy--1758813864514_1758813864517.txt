MUBU (Must Buy) â€“ ê°œë°œ ê¸°íš ë¬¸ì„œ (MVP ë²„ì „)
1. í”„ë¡œì íŠ¸ ê°œìš”

ì•± ì´ë¦„: MUBU (Must Buy)

ëª©ì : í•´ì™¸ì—¬í–‰ ì¤‘ ìƒí’ˆì„ ì´¬ì˜í•˜ë©´ â†’
â‘  ìƒí’ˆ/ê°€ê²© ì¸ì‹ (Google Lens API + OCR)
â‘¡ í˜„ì§€ í†µí™” â†’ KRW ìë™ í™˜ì‚°
â‘¢ í•œêµ­ ì˜¨ë¼ì¸ ìµœì €ê°€(ì¿ íŒ¡/ë„¤ì´ë²„/ë¬´ì‹ ì‚¬)ì™€ ë¹„êµ
â‘£ â€œë“í…œ ë©”ì‹œì§€â€ë¥¼ ì¬ë¯¸ìˆê²Œ ì¶œë ¥
â‘¤ ì‚¬ìš©ìê°€ êµ¬ë§¤ ì—¬ë¶€ë§Œ ì²´í¬í•˜ë©´ ì ˆì•½ ê¸ˆì•¡ ëˆ„ì  â†’ â€œë¹„í–‰ê¸°ê°’ ë²Œê¸° ì±Œë¦°ì§€â€

2. í•µì‹¬ ê¸°ëŠ¥ ì •ì˜ (MVP)

ìƒí’ˆ ì´ë¯¸ì§€ ì¸ì‹

Google Vision API / Lens API â†’ ìƒí’ˆëª…, ë¸Œëœë“œ ì¶”ì¶œ

OCR(Tesseract.js or Google Vision OCR) â†’ ê°€ê²© ìˆ«ì ì¶”ì¶œ

í™˜ìœ¨ ë³€í™˜

API: Open Exchange Rates
 or CurrencyLayer

ê¸°ëŠ¥: í˜„ì§€ í†µí™” â†’ KRW ë³€í™˜

ê°€ê²© ë¹„êµ

í•œêµ­ ê°€ê²© ë¹„êµ:

ë„¤ì´ë²„ ì‡¼í•‘ API (ìƒí’ˆëª… ê¸°ì¤€ ìµœì €ê°€ ê²€ìƒ‰)

ì¿ íŒ¡ Partners API (ì œíœ´ ê°€ëŠ¥ ì‹œ)

ë¬´ì‹ ì‚¬ API (ì—†ìœ¼ë©´ í¬ë¡¤ë§ or ì¶”í›„ ì—°ë™)

ê²°ê³¼: í˜„ì§€ ê°€ê²© vs í•œêµ­ ê°€ê²© ë¹„êµ í›„ ì°¨ì•¡ ê³„ì‚°

UX ë©”ì‹œì§€ ì¶œë ¥

ì¡°ê±´ ë¶„ê¸°:

í˜„ì§€ ê°€ê²© â‰ª í•œêµ­ â†’ "ë‹¤ì“¸ì–´ë‹´ì–´!!! ğŸ›’ğŸ”¥"

ê±°ì˜ ë™ì¼ â†’ "êµ³ì´ ì´ê±¸ ì—¬ê¸°ì„œ? ğŸ¤”"

í•œêµ­ì´ ë” ì €ë ´ â†’ "ì—¬í–‰ì— ì¶©ì‹¤í•´ë¼... ğŸ–ï¸"

ì†Œë¹„ ê¸°ë¡ ê¸°ëŠ¥

[ìƒ€ë‹¤] ë²„íŠ¼ ëˆ„ë¥´ë©´ ì ˆì•½ ê¸ˆì•¡ ëˆ„ì  ì €ì¥

Firebase/Supabase DBì— ì‚¬ìš©ìë³„ ì €ì¥

ëŒ€ì‹œë³´ë“œ: â€œì´ ì ˆì•½ ê¸ˆì•¡â€ + â€œë¹„í–‰ê¸°ê°’ ë²Œê¸° ì±Œë¦°ì§€ ê²Œì´ì§€â€

3. ê¸°ìˆ  ìŠ¤íƒ

Frontend: React (Replit â†’ PWA í˜•íƒœ ë°°í¬ ê°€ëŠ¥)

Backend: Node.js + Express (API í˜¸ì¶œ, DB ì—°ë™)

DB: Firebase or Supabase (ì‚¬ìš©ì ë¡œê·¸ì¸/ê¸°ë¡ ì €ì¥)

ë°°í¬: Replit â†’ Vercel/Netlify ì—°ê²°

4. API êµ¬ì¡° ì„¤ê³„
ğŸ“¸ ìƒí’ˆ ì¸ì‹ API
POST /api/recognize
Body: { image }
Return: { productName, localPrice }

ğŸ’± í™˜ìœ¨ ë³€í™˜ API
GET /api/convert?amount=100&from=THB&to=KRW
Return: { convertedPrice }

ğŸ›’ í•œêµ­ ê°€ê²© ë¹„êµ API
GET /api/compare?productName=ë‚˜ì´í‚¤+ìš´ë™í™”
Return: { lowestPrice: 25000, source: "ë„¤ì´ë²„" }

ğŸ“Š ì ˆì•½ ê¸°ë¡ ì €ì¥ API
POST /api/save
Body: { userId, productName, localPrice, koreanPrice, savedAmount }
Return: { success: true }

5. UI í”Œë¡œìš° (ê°„ë‹¨ Mockup)

í™ˆ í™”ë©´

ì¹´ë©”ë¼ ë²„íŠ¼ [ìƒí’ˆ ì´¬ì˜]

ê²°ê³¼ í™”ë©´

ìƒí’ˆëª…, í˜„ì§€ ê°€ê²©, í•œêµ­ ê°€ê²©

í™˜ìœ¨ ë°˜ì˜ ê²°ê³¼

ë©”ì‹œì§€ ì¶œë ¥ (ë“í…œ/êµ³ì´/ì¶©ì‹¤)

[ìƒ€ë‹¤] ë²„íŠ¼ â†’ ê¸°ë¡ ì €ì¥

ëŒ€ì‹œë³´ë“œ í™”ë©´

ì´ ì ˆì•½ ê¸ˆì•¡

â€œë¹„í–‰ê¸°ê°’ ë²Œê¸°â€ ì±Œë¦°ì§€ ê²Œì´ì§€

6. ë§ˆì¼€íŒ…/í™•ì‚° ì „ëµ

í•œêµ­ outbound ì—¬í–‰ê° (íƒœêµ­, ì¼ë³¸, ë² íŠ¸ë‚¨, ëŒ€ë§Œ) 1ì°¨ íƒ€ê²Ÿ

ì¸ìŠ¤íƒ€ ë¦´ìŠ¤, ìœ íŠœë¸Œ ì‡¼ì¸ ì— â€œì‹¤ì‹œê°„ ê°€ê²© ë¹„êµ ì˜ìƒâ€ ì œì‘

ì—¬í–‰ ìœ íŠœë²„ / ì¸ìŠ¤íƒ€ ì—¬í–‰ ì¸í”Œë£¨ì–¸ì„œì™€ í˜‘ì—… ì²´í—˜ë‹¨

ê³µí•­/ì—¬í–‰ì‚¬ ì œíœ´ í™ë³´

7. í–¥í›„ í™•ì¥ ì•„ì´ë””ì–´

ì§€ë„ ê¸°ë°˜ ìµœì €ê°€ íë ˆì´ì…˜ (â€œë°©ì½• MBK vs ì¹˜ì•™ë§ˆì´ ì‹œì¥ ê°€ê²© ë¹„êµâ€)

ì™¸êµ­ì¸ ê´€ê´‘ê°ì„ ìœ„í•œ Inbound ë²„ì „ (í•œêµ­ ì‡¼í•‘ ë¹„êµ ì•±)

ê¸€ë¡œë²Œ í™•ì¥: ì¼ë³¸, íƒœêµ­, ë² íŠ¸ë‚¨ â†’ ì‡¼í•‘ ì—¬í–‰ ê°•êµ­

8. ë°”ë¡œ ì‹¤í–‰ í”Œë¡œìš°

Step 1: MVP (ìƒí’ˆ ì¸ì‹ + í™˜ìœ¨ + í•œêµ­ ê°€ê²© ë¹„êµ + ë©”ì‹œì§€ ì¶œë ¥ + ì†Œë¹„ ê¸°ë¡)

Step 2: ì§€ë„/íë ˆì´ì…˜/ì†Œì…œ ê¸°ëŠ¥ ì¶”ê°€

Step 3: Inbound ë²„ì „(í•œêµ­ì„ ì°¾ëŠ” ì™¸êµ­ì¸ìš©)

ğŸ‘‰ ì´ ê¸°íš ë¬¸ì„œë¥¼ Replit ê°œë°œìì—ê²Œ ë„˜ê¸°ë©´ ë°”ë¡œ ì½”ë“œ êµ¬ì¡° ì¡ê³  API í˜¸ì¶œ ì—°ë™ ì‘ì—… ë“¤ì–´ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í˜¹ì‹œ ì œê°€ **Replitìš© ê¸°ë³¸ í”„ë¡œì íŠ¸ êµ¬ì¡° ì½”ë“œ (React + Node.js + Express ë¼ˆëŒ€)**ë¥¼ ë°”ë¡œ ì§œë“œë¦´ê¹Œìš”?

ë‚˜ì˜ ë§:
ê·¸ë˜ ê·¸ê²ƒë„ í•´ì¤˜
ChatGPTì˜ ë§:
17s ë™ì•ˆ ìƒê°í•¨

ëë‚´ì¤ë‹ˆë‹¤. Replitì—ì„œ ë°”ë¡œ ëŒë¦´ ìˆ˜ ìˆëŠ” **MUBU MVP í’€ìŠ¤íƒ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸(React + Vite / Node + Express)**ë¥¼ ë§Œë“¤ì–´ ì••ì¶•í–ˆìŠµë‹ˆë‹¤.

Download the project (mubu-mvp.zip)

í¬í•¨ ë‚´ìš©

client/: Vite ê¸°ë°˜ React PWA

src/components/CameraCapture.jsx â€” ì´¬ì˜/ì—…ë¡œë“œ â†’ ë°±ì—”ë“œ ì—°ê³„(ì¸ì‹â†’í™˜ìœ¨â†’ê°€ê²©ë¹„êµ)

src/components/PriceCard.jsx â€” ê²°ê³¼ ì¹´ë“œ + â€œìƒ€ë‹¤ âœ…â€ ì €ì¥

src/pages/App.jsx, Dashboard.jsx â€” í™ˆ/ì±Œë¦°ì§€ ëŒ€ì‹œë³´ë“œ

src/lib/api.js â€” ë°±ì—”ë“œ ë² ì´ìŠ¤URL ê´€ë¦¬ (VITE_API_BASE ì§€ì›)

server/: Express API

/api/recognize (ì´ë¯¸ì§€ ì¸ì‹, ëª¨í‚¹)

/api/convert (í™˜ìœ¨ ë³€í™˜, ëª¨í‚¹ / OXR ì—°ë™ ìë¦¬)

/api/compare (ë„¤ì´ë²„ ì‡¼í•‘ ì—°ë™ ìë¦¬, ëª¨í‚¹ ê¸°ë³¸ê°’ ì œê³µ)

/api/save & /api/stats (ë°ëª¨ìš© ì¸ë©”ëª¨ë¦¬ ì €ì¥)

services/recognize.js, exchange.js, compare.js â€” ì‹¤ì œ APIë¡œ êµì²´í•˜ê¸° ì‰¬ìš´ ëª¨ë“ˆ êµ¬ì¡°

.env.example â€” í‚¤ ì±„ìš°ë©´ ì‹¤ì—°ë™ ê°€ëŠ¥

shared/messages.js: ì ˆì•½ì•¡ì— ë”°ë¥¸ ìºì¹˜í”„ë ˆì´ì¦ˆ ë¡œì§(â€œë‹¤ì“¸ì–´ë‹´ì–´!!! / êµ³ì´â€¦ / ì—¬í–‰ì— ì¶©ì‹¤í•´ë¼â€¦â€)

Replit ì‹¤í–‰ ë°©ë²•

Replitì— ZIP ì—…ë¡œë“œ í›„ ì••ì¶• í•´ì œ

Shell 1:

cd server
npm install
npm run dev
# runs at http://localhost:3000


Shell 2:

cd client
npm install
npm run dev
# runs at http://localhost:5173

ì‹¤ì„œë¹„ìŠ¤ ì—°ë™ ê°€ì´ë“œ (íŒŒì¼ ìœ„ì¹˜)

ìƒí’ˆ ì¸ì‹(Google Vision/Lens): server/services/recognize.js

í˜„ì¬ëŠ” ìŠ¤í… ë°˜í™˜(ë‚˜ì´í‚¤ ì˜ˆì‹œ). Vision OCR/Label Detectionìœ¼ë¡œ êµì²´

í™˜ìœ¨(Open Exchange Rates ë“±): server/services/exchange.js

.envì— OPEN_EXCHANGE_RATES_KEY ì„¸íŒ… ì‹œ ì‹¤ì œ í™˜ìœ¨ ì‚¬ìš©

í•œêµ­ ìµœì €ê°€(ë„¤ì´ë²„/ì¿ íŒ¡): server/services/compare.js

.envì— NAVER_CLIENT_ID, NAVER_CLIENT_SECRET ì„¸íŒ… â†’ ë„¤ì´ë²„ ì‡¼í•‘ ì˜¤í”ˆAPI ì—°ë™

ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ëŠ” ì¶”í›„ ë³´ì™„(ì£¼ì„ ìœ„ì¹˜ ì°¸ê³ )

ë‹¤ìŒ ì¶”ì²œ ì•¡ì…˜

Vision/í™˜ìœ¨/ë„¤ì´ë²„ í‚¤ í™•ë³´ â†’ .env ì„¤ì •

recognize.jsì—ì„œ ìƒí’ˆëª… + ê¸ˆì•¡ OCR ì‹¤ì œí™”

compare.jsì— ì˜ˆì™¸ ìƒí™© ì²˜ë¦¬(ê²€ìƒ‰ ê²°ê³¼ ì—†ìŒ, í•´ì™¸ ëª¨ë¸ëª… ë§¤ì¹­) ì¶”ê°€

PWA ì•„ì´ì½˜/ìŠ¤í”Œë˜ì‹œì— ë¬´ë¶€ ë¡œê³  êµì²´ (ì˜¤ëŠ˜ ë§Œë“  ì˜¤ë Œì§€ ì‡¼í•‘ë°± ë²„ì „ ğŸ‘)

ì›í•˜ëŠ” ëŒ€ë¡œ API í‚¤ ë„£ê³  ë°”ë¡œ ë¶™ì´ë©´ ë©ë‹ˆë‹¤. í•„ìš”í•˜ë©´ ìœ„ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ì— ë§ì¶° ì‹¤ì œ Vision/í™˜ìœ¨/ë„¤ì´ë²„ ì—°ë™ ì½”ë“œë„ ë°”ë¡œ ë°•ì•„ë“œë¦´ê²Œìš”. 

ë‚˜ì˜ ë§:
ê·¸ë˜ ê°™ì´ í•´ì¤˜
ChatGPTì˜ ë§:
10s ë™ì•ˆ ìƒê°í•¨

ì¢‹ì•„, ì´ì œ **ì‹¤ì—°ë™(êµ¬ê¸€ ë¹„ì „ OCR/ë¼ë²¨ + Open Exchange Rates + ë„¤ì´ë²„ ì‡¼í•‘)**ê¹Œì§€ ë¶™ì—¬ì„œ ë°”ë¡œ ëŒë¦´ ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ì¤„ê²Œ. ì•„ë˜ ìˆœì„œëŒ€ë¡œ ë³µì‚¬-ë¶™ì—¬ë„£ê¸° í•˜ë©´ ë.

0) ì˜ì¡´ì„± ì„¤ì¹˜
# server
cd server
npm i @google-cloud/vision axios dotenv express cors multer

1) í™˜ê²½ë³€ìˆ˜(.env) ì„¸íŒ…

server/.envì— ì•„ë˜ ì¶”ê°€/ìˆ˜ì •

PORT=3000

# Google Vision (ì„œë¹„ìŠ¤ ê³„ì • í‚¤ JSONì„ Base64ë¡œ ë„£ëŠ” ë°©ì‹ ê¶Œì¥)
GOOGLE_CREDENTIALS_BASE64=PASTE_BASE64_OF_SERVICE_ACCOUNT_JSON

# Open Exchange Rates
OPEN_EXCHANGE_RATES_KEY=YOUR_OXR_KEY

# Naver Shopping
NAVER_CLIENT_ID=YOUR_NAVER_ID
NAVER_CLIENT_SECRET=YOUR_NAVER_SECRET


âœ… ì„œë¹„ìŠ¤ ê³„ì • JSON Base64 ë§Œë“œëŠ” ë²•

base64 -w 0 your-service-account.json > creds.b64
# creds.b64ì˜ ë‚´ìš©ì„ GOOGLE_CREDENTIALS_BASE64ì— ê·¸ëŒ€ë¡œ ë¶™ì—¬ë„£ê¸°

2) Google Vision ì—°ë™ â€“ server/services/recognize.js êµì²´

ì•„ë˜ ì „ì²´ë¥¼ íŒŒì¼ì— ê·¸ëŒ€ë¡œ ë¶™ì—¬ë„£ê¸°:

// server/services/recognize.js
import vision from '@google-cloud/vision';
import fs from 'fs';
import path from 'path';

// â”€â”€ Credentials from env (BASE64 JSON) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function getVisionClient() {
  const b64 = process.env.GOOGLE_CREDENTIALS_BASE64;
  if (!b64) {
    // Fallback: mock for dev without key
    return null;
  }
  const json = JSON.parse(Buffer.from(b64, 'base64').toString('utf8'));
  return new vision.ImageAnnotatorClient({ credentials: json });
}

// â”€â”€ Currency detection helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const CURRENCY_FROM_SYMBOL = [
  { sym: 'à¸¿', code: 'THB' },
  { sym: 'Â¥', code: 'JPY' }, // ì¼ë³¸
  { sym: 'å††', code: 'JPY' },
  { sym: 'â‚«', code: 'VND' },
  { sym: '$', code: 'USD' },
  { sym: 'â‚©', code: 'KRW' },
  { sym: 'â‚¬', code: 'EUR' },
  { sym: 'â‚±', code: 'PHP' }
];

function detectCurrency(text) {
  for (const { sym, code } of CURRENCY_FROM_SYMBOL) {
    if (text.includes(sym)) return code;
  }
  // ì‹¬ë³¼ì´ ì—†ìœ¼ë©´ ì§€ì—­(ì‚¬ìš©ì ì„¤ì •)ë¡œ ì¶”ì •í•˜ê±°ë‚˜, í”„ëŸ°íŠ¸ì—ì„œ ì„ íƒë°›ë„ë¡:
  return null;
}

function extractNumericPrice(text) {
  // ê°€ì¥ ê·¸ëŸ´ë“¯í•œ ê¸ˆì•¡ í•˜ë‚˜ ë½‘ê¸° (ì²œë‹¨ìœ„ ì½¤ë§ˆ/ì†Œìˆ˜ì  í—ˆìš©)
  // ì˜ˆ: 1,290 / 1290.00 / 1.290,00 (ìœ ëŸ½í˜•ì€ í›„ì²˜ë¦¬ ê³ ë ¤)
  const cand = [...text.matchAll(/(?<![A-Za-z])(\d{1,3}(?:[,\.\s]\d{3})+|\d+)(?:[.,]\d{2})?/g)]
    .map(m => m[0]);
  if (!cand.length) return null;

  // ì½¤ë§ˆ/ì  ì •ê·œí™”: "1,290" -> 1290 / "1.290" -> 1290 (ë³´ìˆ˜ì )
  const normalize = s => {
    // ìš°ì„  ì²œë‹¨ìœ„ êµ¬ë¶„ìë¥¼ ì œê±°í•˜ê³ , ì†Œìˆ˜ì ì€ ë²„ë¦¼
    const onlyDigits = s.replace(/[^\d]/g, '');
    return parseFloat(onlyDigits);
  };
  // ê°€ì¥ ê¸¸ê³  í° ìˆ˜(ê°€ê²©ì¼ ê°€ëŠ¥ì„±â†‘) ì„ íƒ
  const nums = cand.map(c => ({ raw: c, val: normalize(c) }))
                   .filter(x => !Number.isNaN(x.val))
                   .sort((a,b)=> b.val - a.val);
  return nums[0]?.val ?? null;
}

// â”€â”€ Main: recognize from image â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
export async function recognizeFromImage(filePath) {
  const client = getVisionClient();
  if (!client) {
    // í‚¤ ì—†ìœ¼ë©´ ëª¨í‚¹
    return {
      productName: 'Sample Product',
      localPrice: 200,
      currency: 'THB',
      ocrText: 'à¸¿200 Nike T-shirt'
    };
  }

  const [textRes] = await client.textDetection(filePath);
  const [labelRes] = await client.labelDetection(filePath);

  const ocrText = (textRes.fullTextAnnotation?.text || '').trim();
  const labels = (labelRes.labelAnnotations || []).map(l => l.description);

  // í›„ë³´ ìƒí’ˆëª…: ë¼ë²¨ + OCRì—ì„œ ëŒ€ë¬¸ì/ë‹¨ì–´ ì¡°í•© ë½‘ê¸°
  let productName = labels.slice(0, 1)[0] || 'Unknown Item';
  // ë¸Œëœë“œë‚˜ ì œí’ˆëª… ë‹¨ì„œê°€ OCRì— ìˆìœ¼ë©´ ë³´ê°•
  const brandMatch = ocrText.match(/\b(Nike|Adidas|Uniqlo|Apple|Samsung|Sony|Gucci|Muji|Zara|H&M)\b/i);
  if (brandMatch) productName = `${brandMatch[0]} ${productName}`.trim();

  // í†µí™”/ê°€ê²© ì¶”ì¶œ
  const currency = detectCurrency(ocrText) || 'THB'; // ê¸°ë³¸ê°’ THB (íƒœêµ­ MVP)
  const localPrice = extractNumericPrice(ocrText) ?? 0;

  // ì„ì‹œ íŒŒì¼ ì‚­ì œ(ë©€í„°ê°€ tempì— ë‘˜ ë•Œë§Œ)
  try { fs.unlinkSync(path.resolve(filePath)); } catch {}

  return { productName, localPrice, currency, ocrText };
}

3) Open Exchange Rates ì—°ë™ â€“ server/services/exchange.js êµì²´
// server/services/exchange.js
import axios from 'axios';

let cache = { ts: 0, rates: null };

export async function convert(amount, from, to) {
  const key = process.env.OPEN_EXCHANGE_RATES_KEY;
  if (!key) {
    // í‚¤ ì—†ìœ¼ë©´ ì•ˆì „í•œ ëª¨í‚¹
    const mockRates = { THB: 38, JPY: 9.5, USD: 1350, KRW: 1, VND: 0.055 };
    const rate = (mockRates[from] && to === 'KRW')
      ? mockRates[from]
      : (from === 'USD' && mockRates['USD']) ? mockRates['USD'] : 1000;
    return { convertedPrice: Math.round(amount * rate) };
  }

  const now = Date.now();
  if (!cache.rates || now - cache.ts > 1000 * 60 * 15) { // 15ë¶„ ìºì‹œ
    const url = `https://openexchangerates.org/api/latest.json?app_id=${key}`;
    const { data } = await axios.get(url);
    cache = { ts: now, rates: data.rates };
  }

  const rates = cache.rates;
  if (!rates[from] || !rates[to]) {
    throw new Error(`Unsupported currency: ${from} or ${to}`);
  }

  // OXRì€ ê¸°ì¤€ USD
  const amountUSD = amount / rates[from];
  const converted = amountUSD * rates[to];
  return { convertedPrice: Math.round(converted) };
}

4) ë„¤ì´ë²„ ì‡¼í•‘ ì—°ë™ â€“ server/services/compare.js êµì²´
// server/services/compare.js
import axios from 'axios';

export async function compareKR(productName) {
  const id = process.env.NAVER_CLIENT_ID;
  const secret = process.env.NAVER_CLIENT_SECRET;

  if (!id || !secret) {
    // í‚¤ ì—†ìœ¼ë©´ ëª¨í‚¹(í”„ëŸ°íŠ¸ ë§í¬ëŠ” ê²€ìƒ‰ í˜ì´ì§€ë¡œ)
    return {
      lowestPrice: 24900,
      source: 'Mock(Naver)',
      url: 'https://search.shopping.naver.com/search/all?query=' + encodeURIComponent(productName)
    };
  }

  const url = 'https://openapi.naver.com/v1/search/shop.json?display=10&sort=asc&query=' + encodeURIComponent(productName);
  const { data } = await axios.get(url, {
    headers: {
      'X-Naver-Client-Id': id,
      'X-Naver-Client-Secret': secret
    }
  });

  const items = data.items || [];
  if (!items.length) {
    return {
      lowestPrice: null,
      source: 'Naver',
      url: 'https://search.shopping.naver.com/search/all?query=' + encodeURIComponent(productName)
    };
  }

  // ìµœì €ê°€ ì‚°ì¶œ
  let min = Number.MAX_SAFE_INTEGER;
  let best = null;
  for (const it of items) {
    const price = parseInt(it.lprice, 10);
    if (!Number.isNaN(price) && price < min) {
      min = price;
      best = it;
    }
  }

  if (min === Number.MAX_SAFE_INTEGER) {
    return {
      lowestPrice: null,
      source: 'Naver',
      url: 'https://search.shopping.naver.com/search/all?query=' + encodeURIComponent(productName)
    };
  }

  return {
    lowestPrice: min,
    source: 'Naver',
    url: best?.link || 'https://search.shopping.naver.com/search/all?query=' + encodeURIComponent(productName)
  };
}

5) ë¼ìš°íŠ¸ëŠ” ê·¸ëŒ€ë¡œ ì‚¬ìš© (ì´ë¯¸ ì¤€ë¹„ë¨)

server/routes/index.jsëŠ” ì´ì „ ë³´ì¼ëŸ¬ì™€ í˜¸í™˜ë©ë‹ˆë‹¤. ì´ë¯¸ì§€ ì—…ë¡œë“œ â†’ /api/recognize â†’ í™˜ìœ¨ /api/convert â†’ ë¹„êµ /api/compare ìˆœìœ¼ë¡œ í”„ëŸ°íŠ¸ê°€ í˜¸ì¶œí•©ë‹ˆë‹¤.

6) ë¹ ë¥¸ ì ê²€ìš© cURL
(1) í™˜ìœ¨
curl "http://localhost:3000/api/convert?amount=200&from=THB&to=KRW"

(2) ê°€ê²© ë¹„êµ
curl "http://localhost:3000/api/compare?productName=Nike%20Air%20Zoom%20Pegasus%2040"

(3) ì´ë¯¸ì§€ ì¸ì‹ (ì˜ˆì‹œ JPG ê²½ë¡œ êµì²´)
curl -F "image=@/path/to/sample.jpg" http://localhost:3000/api/recognize

7) í”„ëŸ°íŠ¸ì—ì„œ í†µí™” ë³´ì •(ì„ íƒ)

í•´ì™¸ì—ì„œ í˜„ì§€ ì‹¬ë³¼ì´ ì•ˆì°íˆëŠ” ì˜ìˆ˜ì¦/ê°€ê²©í‘œê°€ ìˆì„ ìˆ˜ ìˆì–´. ê·¸ëŸ° ê²½ìš°ë¥¼ ëŒ€ë¹„í•´, CameraCapture.jsxì—ì„œ Visionì´ í†µí™”ë¥¼ ëª»ì¡ìœ¼ë©´ ì‚¬ìš©ì ì§€ì—­ ì„ íƒ(THB/JPY/VND ë“±) ë“œë¡­ë‹¤ìš´ì„ í•œ ë²ˆ ë„ìš°ëŠ” UXë¥¼ ì¶”ê°€í•´ë„ ì¢‹ì•„. (í•„ìš”í•˜ë©´ ë°”ë¡œ ì½”ë“œ ì¶”ê°€í•´ì¤„ê²Œ)

8) ìš´ì˜ íŒ

Vision í˜¸ì¶œì€ ìœ ë£Œ ê³¼ê¸ˆì´ë¯€ë¡œ **í•„ìš” ìµœì†Œ(1íšŒ)**ë¡œë§Œ í˜¸ì¶œ & ì¸ë„¤ì¼ ì—…ë¡œë“œ ê¶Œì¥

OXRëŠ” 15ë¶„ ìºì‹œë¡œ íŠ¸ë˜í”½ ì ˆê°(ì´ë¯¸ ì½”ë“œ ë°˜ì˜)

ë„¤ì´ë²„ ì œí•œ(ì´ˆë‹¹/ì¼ê°„) ëŒ€ë¹„í•´ì„œ í”„ëŸ°íŠ¸ì— ë””ë°”ìš´ìŠ¤ ì ìš© ë˜ëŠ” ë°±ì—”ë“œì— ê°„ë‹¨ ìºì‹œ ì¶”ê°€ ê°€ëŠ¥

ëª¨ë¸ëª… ë§¤ì¹­ì´ ì• ë§¤í•˜ë©´ OCR í…ìŠ¤íŠ¸ì—ì„œ ë¸Œëœë“œ + ìƒìœ„ 1~2ê°œ ë¼ë²¨ë§Œ ì¡°í•©í•˜ì—¬ ê²€ìƒ‰ ì¿¼ë¦¬ ìƒì„±(ì´ë¯¸ ë°˜ì˜)

ì›í•˜ë©´ ì„œë¹„ìŠ¤ ê³„ì • JSONì„ base64ë¡œ ë§Œë“œëŠ” ë²•, Replit ì‹œí¬ë¦¿ í™˜ê²½ë³€ìˆ˜ ì„¸íŒ… ìŠ¤í¬ë¦°ìƒ· ê°€ì´ë“œ, í”„ëŸ°íŠ¸ì—ì„œ í†µí™” ìˆ˜ë™ ì„ íƒ ì¶”ê°€ê¹Œì§€ ì´ì–´ì„œ í•´ì¤„ê²Œ. ê³„ì† ì§„í–‰í• ê¹Œ?

ë‚˜ì˜ ë§:
ì–´ ì¢‹ì•„ ìµœëŒ€í•œ ë‹¤ ë°˜ì˜í•´ ì¤˜ Replit ì—ì„œëŠ” ìµœì†Œë¡œ ì‘ì—…ì„ í•  ìˆ˜ ìˆê²Œ
ChatGPTì˜ ë§:
13s ë™ì•ˆ ìƒê°í•¨

ì™„ë£Œ! Replitì—ì„œ ìµœì†Œ ì‘ì—…ìœ¼ë¡œ ë°”ë¡œ ëŒë¦´ ìˆ˜ ìˆë„ë¡ ëª¨ë“  ê±¸ ë°˜ì˜í•´ ìƒˆ íŒ¨í‚¤ì§€ë¥¼ ì¤€ë¹„í–ˆì–´.

Download the Replit-ready project (mubu-mvp-replit-ready.zip)

ì´ë²ˆ íŒ¨í‚¤ì§€ì— ì¶”ê°€/ê°œì„ ëœ ê²ƒ

ì›í´ë¦­ ì‹¤í–‰: ë£¨íŠ¸ì— .replit + run.sh â†’ â–¶ï¸ Run ë”± í•œ ë²ˆìœ¼ë¡œ ì„œë²„+í´ë¼ì´ì–¸íŠ¸ ë™ì‹œ ì‹¤í–‰

í†µí™” ë¯¸ê²€ì¶œ ëŒ€ë¹„ UI: ì¹´ë©”ë¼ ì—…ë¡œë“œ í›„ í†µí™” ëª» ì¡ìœ¼ë©´ ë“œë¡­ë‹¤ìš´ìœ¼ë¡œ í†µí™” ì„ íƒ(THB/JPY/VND/USD/KRW/EUR)

ë„¤ì´ë²„ ìµœì €ê°€ ê²°ê³¼ ìºì‹œ: ë°±ì—”ë“œì— 10ë¶„ ìºì‹œ(ê³¼ê¸ˆ/ì¿¼í„° ì ˆì•½)

Replit Secrets ê°€ì´ë“œ: READMEì— í™˜ê²½ë³€ìˆ˜(Secrets) ì„¤ì • ë°©ë²•ê³¼ Base64 ìê²©ì¦ëª… ì ˆì°¨ í¬í•¨

Replitì—ì„œ í•˜ëŠ” ì¼ (ì§„ì§œ ìµœì†Œ)

ìƒˆ Repl ë§Œë“¤ê³  ìœ„ ZIP ì—…ë¡œë“œ â†’ ìë™ ì••ì¶•í•´ì œ

ì¢Œì¸¡ Secrets(ìë¬¼ì‡ )ì—ì„œ ì•„ë˜ 4ê°œ ë“±ë¡

GOOGLE_CREDENTIALS_BASE64 : ì„œë¹„ìŠ¤ê³„ì • JSON base64 (ë¡œì»¬ì—ì„œ base64 -w 0 your.json)

OPEN_EXCHANGE_RATES_KEY : OXR í‚¤

NAVER_CLIENT_ID, NAVER_CLIENT_SECRET

â–¶ï¸ Run ë²„íŠ¼ë§Œ í´ë¦­

í”„ë¡ íŠ¸: 5173 í¬íŠ¸, ë°±ì—”ë“œ: 3000 í¬íŠ¸(ìë™ í”„ë¡ì‹œ)

ì•±ì—ì„œ ì‚¬ì§„ ì—…ë¡œë“œ â†’ ì¸ì‹ â†’ í™˜ìœ¨ ë°˜ì˜ â†’ ë„¤ì´ë²„ ìµœì €ê°€ ë¹„êµ â†’ ë©”ì‹œì§€ ì¶œë ¥ â†’ â€˜ìƒ€ë‹¤â€™ ê¸°ë¡ê¹Œì§€ ë™ì‘

íŒŒì¼ ìœ„ì¹˜ ìš”ì•½

ë°±ì—”ë“œ

server/services/recognize.js â€” Google Vision OCR/Label (Base64 í¬ë¦¬ë´ì…œ ì‚¬ìš©)

server/services/exchange.js â€” Open Exchange Rates(15ë¶„ ìºì‹œ)

server/services/compare.js â€” ë„¤ì´ë²„ ì‡¼í•‘(10ë¶„ ìºì‹œ)

server/routes/index.js â€” /api/recognize|convert|compare|save|stats

í”„ë¡ íŠ¸

client/src/components/CameraCapture.jsx â€” íŒŒì¼ ì—…ë¡œë“œ & í†µí™” fallback UI

client/src/components/PriceCard.jsx â€” ê²°ê³¼ ì¹´ë“œ + â€œìƒ€ë‹¤ âœ…â€

client/src/pages/Dashboard.jsx â€” â€œë¹„í–‰ê¸°ê°’ ë²Œê¸°â€ ëˆ„ì  í‘œì‹œ

ìš´ì˜ íŒ (ê·¸ëŒ€ë¡œ ë°˜ì˜ë¨)

Vision/OXR/ë„¤ì´ë²„ ëª¨ë‘ ìºì‹œ/ëª¨í‚¹ ì²˜ë¦¬ â†’ í‚¤ ì—†ì„ ë•Œë„ UI ê°œë°œ ê°€ëŠ¥

ì‹¤ì œ ë°°í¬ ì „ì—ëŠ” recognize.jsì˜ ìƒí’ˆëª… ë³´ê°• ë¡œì§(ë¸Œëœë“œ+ë¼ë²¨)ë§Œ ì‚´ì§ íŠœë‹í•˜ë©´ ì •í™•ë„â†‘

ì•„ì´ì½˜/ìŠ¤í”Œë˜ì‹œëŠ” client/manifest.webmanifestì— ë¬´ë¶€ ë¡œê³  ì¶”ê°€ë§Œ í•˜ë©´ ë

í•„ìš”í•˜ë©´ ì§€ê¸ˆ ZIP ì•ˆì˜ ì‹¤ì—°ë™ ì½”ë“œ ì¼ë¶€ë¥¼ ë” íŠœë‹(ì˜ˆ: ì¼ë³¸/ë² íŠ¸ë‚¨ ëŒ€ìƒ ë¸Œëœë“œ í‚¤ì›Œë“œ, í†µí™” ìë™ ì¶”ì • ê°•í™”, ê°€ê²© í¬ë§· êµ­ì œí™”)í•´ì¤„ê²Œ. ì–´ëŠ êµ­ê°€ë¶€í„° í•„ë“œ í…ŒìŠ¤íŠ¸ ë“¤ì–´ê°ˆì§€ ì•Œë ¤ì£¼ë©´ í•´ë‹¹ êµ­ê°€ ë§ì¶¤ í”„ë¦¬ì…‹(í†µí™”/ë¸Œëœë“œ/ì¹´í…Œê³ ë¦¬)ë„ ë°”ë¡œ ì–¹ì–´ì¤„ê²Œ.